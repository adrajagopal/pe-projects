import{$header,$footer,createElementVar,database}from"./global.js";import{renderScreen,initializeReflectionList,handleAccountCreation,handleSignIn,handleSunkTaskDefinition,handleSunkTaskEstimation,handleGoalDefinition,handleGoalEstimation,handleNewReflection,updateReflectionList}from"./functions.js";$header.innerHTML="",$footer.innerHTML="",renderScreen({template:"home",dynamic:!0});let users=[{username:"derek",password:"1234"},{username:"santa",password:"claus"}];export let notes=[];initializeReflectionList(notes,"notes",database),window.addEventListener("click",(function(e){if(e.target.matches("[data-view]")){const t=e.target.dataset.view,a=e.target.dataset.dynamic;renderScreen({template:t,dynamic:a})}})),window.addEventListener("submit",(function(e){e.preventDefault();const t=e.target.dataset.form,a=createElementVar("form");if(e.target.matches("[data-form]"))if("createAccount"===t)!0===handleAccountCreation(a,users,database)&&setTimeout((function(){renderScreen({template:"newUserWelcome"})}),2e3);else if("signIn"===t)!0===handleSignIn(a,users,database)&&renderScreen({template:"home"});else if("defineSunkTasks"===t)!0===handleSunkTaskDefinition(a,database)&&renderScreen({template:"estimateSunkTasks",dynamic:!0});else if("estimateSunkTasks"===t)!0===handleSunkTaskEstimation("selectedTasks",a,database)&&renderScreen({template:"goalsInstructions"});else if("defineGoalAreas"===t)!0===handleGoalDefinition(a,database)&&renderScreen({template:"estimateGoalAreas",dynamic:!0});else if("estimateGoalAreas"===t)!0===handleGoalEstimation("selectedGoals",a,database)&&renderScreen({template:"intakeCompleted"});else if("newReflection"===t){const t=e.target.dataset.timestamp,n=handleNewReflection(a),i={timeStamp:t,rating:n.rating,note:n.note};updateReflectionList(i,notes,database),renderScreen({template:"reflectionSaved"})}else{const t=e.target.dataset.view,a=e.target.dataset.dynamic;renderScreen({template:t,dynamic:a})}}));