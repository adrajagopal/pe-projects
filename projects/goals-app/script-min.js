var database=window.localStorage;function createElementVar(e){return document.querySelector(`${e}`)}function renderView(e){$main.innerHTML=templates[e]}function setCurrentUser(e){database.setItem("currentUser",e.username),$header.innerHTML=`\n\t\t<p class="small-voice currentUser">Account: ${database.getItem("currentUser")}</p>\n\t\t\t`}function updateUsers(e){let r=JSON.stringify(e);database.setItem("users",r)}function handleAccountCreation(e){let r=e.querySelector("#username"),n=e.querySelector("#password");const t=r.value,a=n.value;if(t&&a){let e={username:t,password:a};if(!users.find((function(r){return r.username===e.username})))return users=[...users,e],setCurrentUser(e),updateUsers(users),r.value="",n.value="",!0;alert("choose another username")}}function handleSignIn(e){let r=e.querySelector("#username"),n=e.querySelector("#password");const t=r.value,a=n.value;if(t&&a){let e={username:t,password:a};var s=users.find((function(r){return r.username===e.username}));if(s){if(s.password===e.password)return setCurrentUser(e),alert("success!"),!0;alert("The password you entered does not match the username")}else alert("the username you entered does not exist")}else alert("please enter a username and password")}const $header=createElementVar("header inner-column"),$main=createElementVar("main inner-column"),$footer=createElementVar("footer inner-column");$header.innerHTML="",$footer.innerHTML="",renderView("signIn"),window.addEventListener("click",(function(e){if(e.target.matches("[data-view]")){renderView(e.target.dataset.view)}}));let users=[{username:"derek",password:"1234"},{username:"santa",password:"claus"}];window.addEventListener("submit",(function(e){if(e.preventDefault(),e.target.matches("[data-form]")){const n=e.target.dataset.form,t=createElementVar("form");if("createAccount"===n){var r=handleAccountCreation(t);!0===r&&renderView("home")}"signIn"===n&&!0===(r=handleSignIn(t))&&renderView("home")}}));